jQuery.fn.extend({smoove:function(t,e){function i(){return t.element.find("["+t.itemCategoryAttribute+"]")}function r(e){for(var r=i(),n=$([]),o=0;o<r.length;o++)for(var a=$(r[o]).attr(t.itemCategoryAttribute).split(";"),s=0;s<a.length;s++)if(a[s]===e){n=$(n).add($(r[o]));break}return n}function n(t){var e=$(t).clone(),i=o(t);return $(t).parent().append(e),e.css({position:"absolute",top:i.top,left:i.left,height:i.height,width:i.width}),e}function o(t){var e=$(t),i=e[0].getBoundingClientRect(),r=parseInt(e.css("margin-left").replace("px","")),n=e.css("box-sizing"),o=0,a=0;if("border-box"!==n){var s=parseInt(e.css("padding-left").replace("px","")),l=parseInt(e.css("padding-top").replace("px","")),p=parseInt(e.css("padding-right").replace("px","")),c=parseInt(e.css("padding-bottom").replace("px","")),d=parseInt(e.css("border-left-width").replace("px","")),f=parseInt(e.css("border-top-width").replace("px","")),h=parseInt(e.css("border-right-width").replace("px","")),g=parseInt(e.css("border-bottom-width").replace("px",""));o-=s+p+(d+h),a-=l+c+(f+g)}var u={top:i.top+$(window).scrollTop()-r,left:i.left+$(window).scrollLeft()-r,width:i.width+o,height:i.height+a};return u}var a="["+t.filterControllerCategoryAttribute+"]",s=$(a),l=$(this),p=!1;t.element=l,s.on("click",function(s){if(p)return s.stopPropagation(),!1;if(p=!0,$hits=[],"multifilter"===t.mode){var l=$(a+":checked");0===l.length&&(l="ALL");var c=i(),d=$([]);if("ALL"===l)d=d.add(t.element.find("["+t.itemCategoryAttribute+"]"));else for(var f=0;f<l.length;f++){var h=$(l[f]).attr(t.filterControllerCategoryAttribute),g=r(h);d=d.add(g)}var u=c.not(d),v=d.not(":hidden"),b=d.not(":visible"),m=[];v.each(function(){m.push({original:$(this),clone:n($(this))}),$(this).css("visibility","hidden")}),b.css("opacity","0"),b.css("display","");var w=0;u.fadeOut().promise().done(function(){for(var i=0;i<m.length;i++){var r=m[i].clone,n=m[i].original,a=o(n);r.data("original",n),r.animate({top:a.top,left:a.left},{queue:!1}).promise().done(function(){$(this).data("original").css("visibility","visible"),$(this).remove(),b.animate({opacity:"1"},{queue:!1}),w++,w===m.length&&"function"==typeof e&&(p=!1,e(t))})}})}})}});