jQuery.fn.extend({smoove:function(a,b){function e(){return a.element.find("["+a.itemCategoryAttribute+"]")}function f(b){for(var c=e(),d=$([]),f=0;f<c.length;f++)for(var g=$(c[f]).attr(a.itemCategoryAttribute).split(";"),h=0;h<g.length;h++)if(g[h]===b){d=$(d).add($(c[f]));break}return d}function g(a){var b=$(a).clone(),c=h(a);return $(a).parent().append(b),b.css({position:"absolute",top:c.top,left:c.left,height:c.height,width:c.width}),b}function h(a){var b=$(a),c=b[0].getBoundingClientRect(),d=parseInt(b.css("margin-left").replace("px","")),e=b.css("box-sizing"),f=0,g=0;if("border-box"!==e){var h=parseInt(b.css("padding-left").replace("px","")),i=parseInt(b.css("padding-top").replace("px","")),j=parseInt(b.css("padding-right").replace("px","")),k=parseInt(b.css("padding-bottom").replace("px","")),l=parseInt(b.css("border-left-width").replace("px","")),m=parseInt(b.css("border-top-width").replace("px","")),n=parseInt(b.css("border-right-width").replace("px","")),o=parseInt(b.css("border-bottom-width").replace("px",""));f-=h+j+(l+n),g-=i+k+(m+o)}var p={top:c.top+$(window).scrollTop()-d,left:c.left+$(window).scrollLeft()-d,width:c.width+f,height:c.height+g};return p}var c=$(a.filterControllerSelector),d=$(this);a.element=d,c.on("click",function(){if($hits=[],"multifilter"===a.mode){var c=$(a.filterControllerSelector+":checked");0===c.length&&(c="ALL");var d=e(),i=$([]);if("ALL"===c)i=i.add(a.element.find("["+a.itemCategoryAttribute+"]"));else for(var j=0;j<c.length;j++){var k=$(c[j]).attr(a.filterControllerCategoryAttribute),l=f(k);i=i.add(l)}var m=d.not(i),n=i.not(":hidden"),o=i.not(":visible"),p=[];n.each(function(){p.push({original:$(this),clone:g($(this))}),$(this).css("visibility","hidden")}),o.css("opacity","0"),o.css("display","");var q=0;m.fadeOut().promise().done(function(){for(var c=0;c<p.length;c++){var d=p[c].clone,e=p[c].original,f=h(e);d.data("original",e),d.animate({top:f.top,left:f.left}).promise().done(function(){$(this).data("original").css("visibility","visible"),$(this).remove(),o.animate({opacity:"1"}),q++,q===p.length&&"function"==typeof b&&b(a)})}})}})}});